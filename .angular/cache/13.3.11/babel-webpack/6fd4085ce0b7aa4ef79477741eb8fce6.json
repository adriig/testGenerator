{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/material/icon\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/material/button\";\n\nfunction QuestionComponent_p_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \"(Respuesta multiple)\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction QuestionComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 0)(1, \"input\", 9);\n    i0.ɵɵlistener(\"ngModelChange\", function QuestionComponent_div_11_Template_input_ngModelChange_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const i_r3 = restoredCtx.index;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return ctx_r4.answerStatus[i_r3] = $event;\n    })(\"change\", function QuestionComponent_div_11_Template_input_change_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r5);\n      const i_r3 = restoredCtx.index;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.changeStatus(i_r3, $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const answer_r2 = ctx.$implicit;\n    const i_r3 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.isFinished ? \"finished\" : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.answerStatus[i_r3])(\"ngClass\", ctx_r1.questionStyles[i_r3] == \"default\" ? \"\" : ctx_r1.questionStyles[i_r3] == \"mal\" ? \"wrong\" : ctx_r1.questionStyles[i_r3] == \"nc\" ? \"nc\" : \"correct\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", answer_r2.text, \" \");\n  }\n}\n\nexport let QuestionComponent = /*#__PURE__*/(() => {\n  class QuestionComponent {\n    constructor() {\n      this.numberQuestion = 0;\n      this.answeredQuestion = new EventEmitter();\n      this.questionStyles = [];\n      this.answerStatus = [];\n      this.isDisabled = true;\n      this.isMultiple = false;\n      this.isFinished = false;\n      this.isCorrect = false;\n    }\n\n    ngOnInit() {\n      this.isMultiple = this.checkMultiple();\n\n      for (let i = 0; i <= this.question.answers.length; i++) {\n        this.questionStyles[i] = 'default';\n      }\n    }\n\n    checkMultiple() {\n      let sum = 0;\n\n      for (let answer of this.question.answers) {\n        if (answer.isCorrect == 'true') {\n          sum++;\n        }\n      }\n\n      return sum > 1;\n    }\n\n    changeStatus(index, event) {\n      if (!this.isMultiple) {\n        for (let i = 0; i < this.answerStatus.length; i++) {\n          if (i != index) {\n            this.answerStatus[i] = false;\n          }\n        }\n      }\n\n      this.checkStatus();\n    }\n\n    checkStatus() {\n      let disabled = true;\n\n      for (let i = 0; i <= this.answerStatus.length; i++) {\n        if (this.answerStatus[i]) {\n          disabled = false;\n        }\n      }\n\n      this.isDisabled = disabled;\n    }\n\n    checkIsRight() {\n      for (let i = 0; i < this.question.answers.length; i++) {\n        if (this.question.answers[i].isCorrect == 'false' && this.answerStatus[i]) {\n          console.log(\"UNA MAL\");\n          this.questionStyles[i] = 'mal';\n        } else if (this.question.answers[i].isCorrect == 'true' && this.answerStatus[i]) {\n          console.log(\"UNA BIEN\");\n          this.questionStyles[i] = 'bien';\n        } else if (this.question.answers[i].isCorrect == 'true' && !this.answerStatus[i]) {\n          console.log(\"FALTA UNA POR CONTESTAR\");\n          this.questionStyles[i] = 'nc';\n        }\n      }\n\n      let status = true;\n\n      for (let i = 0; i <= this.questionStyles.length; i++) {\n        if (this.questionStyles[i] != 'bien' && this.questionStyles[i] !== undefined && this.questionStyles[i] != 'default') {\n          console.log(\"checking as false\", this.questionStyles[i]);\n          status = false;\n        }\n      }\n\n      this.isCorrect = status;\n      this.answeredQuestion.emit(status);\n      this.isFinished = true;\n    }\n\n  }\n\n  QuestionComponent.ɵfac = function QuestionComponent_Factory(t) {\n    return new (t || QuestionComponent)();\n  };\n\n  QuestionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: QuestionComponent,\n    selectors: [[\"app-question\"]],\n    inputs: {\n      question: \"question\",\n      numberQuestion: \"numberQuestion\"\n    },\n    outputs: {\n      answeredQuestion: \"answeredQuestion\"\n    },\n    decls: 15,\n    vars: 8,\n    consts: [[3, \"ngClass\"], [1, \"statement\"], [2, \"font-weight\", \"bold\"], [4, \"ngIf\"], [3, \"title\"], [1, \"wrapper\"], [3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"send\"], [\"mat-stroked-button\", \"\", \"color\", \"primary\", 3, \"disabled\", \"click\"], [\"type\", \"checkbox\", 3, \"ngModel\", \"ngClass\", \"ngModelChange\", \"change\"]],\n    template: function QuestionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"p\", 2);\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\")(5, \"h1\");\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(7, QuestionComponent_p_7_Template, 2, 0, \"p\", 3);\n        i0.ɵɵelementStart(8, \"mat-icon\", 4);\n        i0.ɵɵtext(9, \"info\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(10, \"div\", 5);\n        i0.ɵɵtemplate(11, QuestionComponent_div_11_Template, 3, 4, \"div\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 7)(13, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function QuestionComponent_Template_button_click_13_listener() {\n          return ctx.checkIsRight();\n        });\n        i0.ɵɵtext(14, \"Comprobar\");\n        i0.ɵɵelementEnd()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngClass\", !ctx.isFinished ? \"container\" : ctx.isCorrect ? \"container-right\" : \"container-wrong\");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", ctx.numberQuestion, \" - \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\" \", ctx.question.statement, \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.isMultiple);\n        i0.ɵɵadvance(1);\n        i0.ɵɵpropertyInterpolate2(\"title\", \"Tema \", ctx.question.theme, \" pagina \", ctx.question.page, \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngForOf\", ctx.question.answers);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.isDisabled || ctx.isFinished);\n      }\n    },\n    directives: [i1.NgClass, i1.NgIf, i2.MatIcon, i1.NgForOf, i3.CheckboxControlValueAccessor, i3.NgControlStatus, i3.NgModel, i4.MatButton],\n    styles: [\".container[_ngcontent-%COMP%]{display:flex;padding:15px;justify-content:center;flex-direction:column}.container-right[_ngcontent-%COMP%]{display:flex;padding:15px;justify-content:center;flex-direction:column;background-color:#59b84c4d}.container-wrong[_ngcontent-%COMP%]{display:flex;padding:15px;justify-content:center;flex-direction:column;background-color:#dc5e454d}.wrapper[_ngcontent-%COMP%]{align-items:center;display:grid;grid-template-columns:repeat(2,1fr);grid-auto-rows:minmax(50px,auto);margin-left:19%}.statement[_ngcontent-%COMP%]{flex-direction:row;display:flex;align-items:center;gap:10px;margin-left:17%}p[_ngcontent-%COMP%]{margin:0;padding:0}h1[_ngcontent-%COMP%]{padding:0;margin:0}.send[_ngcontent-%COMP%]{display:flex;justify-content:center;width:100%}.send[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .send[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-right:8px}.example-disabled[_ngcontent-%COMP%]{display:inline-block}.nc[_ngcontent-%COMP%]{outline:2px solid deeppink}.nc[_ngcontent-%COMP%]:disabled{outline:2px solid deeppink}.correct[_ngcontent-%COMP%]{accent-color:#5fbe33}.correct[_ngcontent-%COMP%]:disabled{accent-color:#5fbe33}.wrong[_ngcontent-%COMP%]{accent-color:#ee3b0e}.wrong[_ngcontent-%COMP%]:disabled{accent-color:#5fbe33}.finished[_ngcontent-%COMP%]{pointer-events:none}\"]\n  });\n  return QuestionComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}